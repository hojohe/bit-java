$(document).ready(function(){

$.fn.disableScroll = function() {
    var oldScrollPos = $(window).scrollTop();

    $(window).on('scroll.scrolldisabler',function ( event ) {
       $(window).scrollTop( oldScrollPos );
       event.preventDefault();
    });
};

$.fn.enableScroll = function() {
    $(window).off('scroll.scrolldisabler');
};

	if($('div').hasClass('labWrap')){

	if($(window).scrollTop() > 900){
		$('.labWrap').hide();
	}

	$('.labWrap > div').scroll(function(){
		var labTop = $('.labWrap > div').scrollTop()
		if(labTop > 900){
			$('.labWrap').hide();
			$('.labWrap').removeClass('on');
		};
	});

	$(window).scroll(function(){
		if($(window).scrollTop() == 0){
			$('.labWrap').show();
			if(!$('.labWrap').hasClass('on')){
				$('.labWrap > div').animate({'scrollTop':'900'}, 0);
			}

		};
});


	}

	if($('div.visualSub').hasClass('history')){
		if($(window).scrollTop() > 900){
			$('.hisWrap').hide();
		}
		$('.historyList h3, .historyList p').animate({'opacity':'1'}, 1000);

		$('.historyList ul li').eq(0).addClass('animated slideInUp fadeIn', function(){
			$('.historyList ul li').eq(0).css({'opacity':'1'})

			$('.historyList ul li').eq(1).addClass('animated slideInUp fadeIn', function(){
				$('.historyList ul li').eq(1).css({'opacity':'1'})

				$('.historyList ul li').eq(2).addClass('animated slideInUp fadeIn', function(){
					$('.historyList ul li').eq(2).css({'opacity':'1'})

					$('.historyList ul li').eq(3).addClass('animated slideInUp fadeIn', function(){
						$('.historyList ul li').eq(3).css({'opacity':'1'})
					});
					
				});

			});
		});


		$('.hisWrap > div').scroll(function(){
			var hisTop = $('.hisWrap > div').scrollTop()
			if(hisTop > 900){
				$('.hisWrap').hide();
				$('.hisWrap').removeClass('on');
			};
		});

		

		$(window).scroll(function(){

			if($(window).scrollTop() == 0){
				$('.hisWrap').show();
				if(!$('.hisWrap').hasClass('on')){
					$('.hisWrap > div').animate({'scrollTop':'900'}, 0);
				}
			}

			


			if($(window).scrollTop() > 300 && $('.year1 > div').hasClass('animated') == false ){

				$('.year1 > div').addClass('animated slideInDown fadeIn', function(){
					$('.year1 > div').css({'opacity':'1'})
				});	
				$('.year1 > ul li').eq(0).addClass('animated historyYear fadeIn', function(){
					$('.year1 > ul li').eq(0).css({'opacity':'1'})

					$('.year1 > ul li').eq(1).addClass('animated historyYear fadeIn', function(){
						$('.year1 > ul li').eq(1).css({'opacity':'1'})

						$('.year1 > ul li').eq(2).addClass('animated historyYear fadeIn', function(){
							$('.year1 > ul li').eq(2).css({'opacity':'1'})
						});
					});
				});


			};
			
			if($(window).scrollTop() > 800 && $('.year2 > div').hasClass('animated') == false ){

				$('.year2 > div').addClass('animated slideInDown fadeIn', function(){
					$('.year2 > div').css({'opacity':'1'})
				});	
				$('.year2 > ul li').eq(0).addClass('animated historyYear fadeIn', function(){
					$('.year2 > ul li').eq(0).css({'opacity':'1'})

					$('.year2 > ul li').eq(1).addClass('animated historyYear fadeIn', function(){
						$('.year2 > ul li').eq(1).css({'opacity':'1'})

						$('.year2 > ul li').eq(2).addClass('animated historyYear fadeIn', function(){
							$('.year2 > ul li').eq(2).css({'opacity':'1'})
						});

						
					});
				});

			};


			if($(window).scrollTop() > 1600 && $('.year3 > div').hasClass('animated') == false ){

				$('.year3 > div').addClass('animated slideInDown fadeIn', function(){
					$('.year3 > div').css({'opacity':'1'});
				});	
				$('.year3 > ul > li').eq(0).addClass('animated historyYear fadeIn', function(){
					$('.year3 > ul > li').eq(0).css({'opacity':'1'})

					$('.year3_1 > div').addClass('animated slideInDown fadeIn', function(){
						$('.year3_1 > div').css({'opacity':'1'});
					});	

					$('.year3_1 > ul > li').eq(0).addClass('animated historyYear fadeIn', function(){
						$('.year3_1 > ul > li').eq(0).css({'opacity':'1'})

						$('.year3_1 > ul > li').eq(1).addClass('animated historyYear fadeIn', function(){
							$('.year3_1 > ul > li').eq(1).css({'opacity':'1'})
						});

					});
				});

			};


			if($(window).scrollTop() > 2400 && $('.year4 > div').hasClass('animated') == false ){

				$('.year4 > div').addClass('animated slideInDown fadeIn', function(){
					$('.year4 > div').css({'opacity':'1'})
				});	
				$('.year4 > ul > li').eq(0).addClass('animated historyYear fadeIn', function(){
					$('.year4 > ul > li').eq(0).css({'opacity':'1'})

					$('.year4 > ul > li').eq(1).addClass('animated historyYear fadeIn', function(){
						$('.year4 > ul > li').eq(1).css({'opacity':'1'})

						$('.year4 > ul > li').eq(2).addClass('animated historyYear fadeIn', function(){
							$('.year4 > ul > li').eq(2).css({'opacity':'1'})
						});
					});
				});

			};

		
			if($(window).scrollTop() > 3450 && $('.year5 > div').hasClass('animated') == false ){

				$('.year5 > div').addClass('animated slideInDown fadeIn', function(){
					$('.year5 > div').css({'opacity':'1'})
				});	
				$('.year5 > ul > li').eq(0).addClass('animated historyYear fadeIn', function(){
					$('.year5 > ul > li').eq(0).css({'opacity':'1'})

					$('.year5 > ul > li').eq(1).addClass('animated historyYear fadeIn', function(){
						$('.year5 > ul > li').eq(1).css({'opacity':'1'})
					});
				});

			};
/*
		if($(window).scrollTop() > 3300 && parseInt($('.yearBottom').css('margin-top')) < 0 ){
				$('.yearBottom').animate({'margin-top': '0'}, 700, 'easeOutCirc')
				$('.video iframe').css({'top':'-=100px'})
			} else {
				return false;
			}
*/

		});

	};

	$('.cfList a').hover(
		function(){

			if($(this).hasClass('video')){
				var mUrl = $(this).attr('rel')
				$('iframe', this).attr('src', 'https://www.youtube.com/embed/'+mUrl+'?version=3&amp;autoplay=1&amp;showinfo=0&amp;controls=0&amp;rel=0&amp;loop=1&amp;wmode=transparent')
				$('> span', this).animate({'opacity':'1'});

			} else {
					$('.scale', this).stop().delay(50).animate({'width' : '110%', 'height' : '110%', 'top' : '-5%', 'left' : '-5%'}, 1500);
					$('> span', this).stop().animate({'opacity':'1'});

			}
		},
		function(){
			if($(this).hasClass('video')){
				$('iframe', this).attr('src', '')
			}
			$('.scale', this).stop().animate({'width' : '100%', 'height' : '100%', 'top' : '0', 'left' : '0'}, 1500);
			$('> span', this).stop().animate({'opacity':'0'});
		}
	);

	$('.historyCon .paper li').hover(
		function(){
			$('.big', this).show();
		},
		function(){
			$('.big', this).hide();
		}
)
});
