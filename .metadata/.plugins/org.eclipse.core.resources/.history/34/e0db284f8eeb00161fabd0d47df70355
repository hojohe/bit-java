package kr.co.mini5.common.util;

import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;

public class DateUtil {

	/* 
	 * 피드 상세 조회시 Dday 출력 (예 : D-3)
	 * parameter : 피드 종료일자
	 * return : 남은 일수
	 */
	public String getDday(String endDate) {

		Date date = null;
		long diff = 0L;
		long diffDays = 0L;

		Date currentDate = new Date();
		SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd");
		
		try {
			date = sdf.parse(endDate);
			diff = date.getTime() - currentDate.getTime();
			diffDays = diff / (24 * 60 * 60 * 1000);
			
		} catch (ParseException e) {
			e.printStackTrace();
		}
		
		System.out.println("날짜 차이  = " + diffDays + 1);

		return String.valueOf(diffDays + 1);

	}
	
	/* 
	 * 피드 등록시에 endDate 출력
	 * parameter : 피드 시작일자, 피드 Dday 설정 값 (100, 50, 30)
	 * return : 피드 종료일자
	 */
	public String getEndDate(String startDate, int feedDday) {
		
		Date date = null;
		
		Calendar cal = Calendar.getInstance();
		SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd");
		
		try {
			date = sdf.parse(startDate);
			
		} catch (ParseException e) {
			e.printStackTrace();
		}
		
		cal.setTime(date);
		
		cal.add(Calendar.DATE, feedDday);
		String endDate = sdf.format(cal.getTime());
		
		return endDate;
		
	}
	
	/*
	 * 피드 상세 조회시 현재  days 출력 (예 : 30일 days 중 오늘은 25일차)
	 * parameter : 피드 시작일자, 남은 일수
	 * return : 현재 days (25일차)
	 */
	
	public String

}
