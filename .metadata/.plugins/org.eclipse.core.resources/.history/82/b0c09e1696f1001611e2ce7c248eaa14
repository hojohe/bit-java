package kr.co.mini5.feed.dao;

import java.util.List;

import org.apache.ibatis.session.SqlSession;

import kr.co.mini5.common.db.MyAppSqlConfig;
import kr.co.mini5.vo.DetailVO;
import kr.co.mini5.vo.FeedVO;

public class FeedDAO {
	private static SqlSession sqlMapper = MyAppSqlConfig.getSqlSessionInstance();
	
	// 전체 피드 조회
	public List<FeedVO> selectList(FeedVO feed) {
		List<FeedVO> feedList = sqlMapper.selectList("kr.co.mini5.feed.dao.FeedDAO.getFeedList", feed);
		return feedList;
	}
	
	// 하나의 피드 조회
	public FeedVO selectOneFeed(int feedNo) {
		FeedVO feed = sqlMapper.selectOne("kr.co.mini5.feed.dao.FeedDAO.getFeedOne", feedNo);
		return feed;
	}
	
	// 피드 등록
	public void insertFeed(FeedVO feed) {
		sqlMapper.insert("kr.co.mini5.feed.dao.FeedDAO.insertFeed", feed);
		sqlMapper.commit();
	}
	
	// 스토리 등록
	public void insertStory(FeedVO feed) {
		sqlMapper.insert("kr.co.mini5.feed.dao.FeedDAO.insertStory", feed);
		sqlMapper.commit();
	}
	
	// 마이스타
	public void insertFeedDetail(DetailVO detail) {
		sqlMapper.insert("kr.co.mini5.feed.dao.FeedDAO.insertFeedDetail", detail);
		sqlMapper.commit();
	}
	
	// 스토리 인증
	public void updateFeedConf(FeedVO feed) {
		sqlMapper.update("kr.co.mini5.feed.dao.FeedDAO.updateFeedConf", feed);
		sqlMapper.commit();
	}
	
	// 인증 리스트
	public List<FeedVO> selectFeedConfList(FeedVO feed) {
		List<FeedVO> feedConfList = sqlMapper.selectList("kr.co.mini5.feed.dao.FeedDAO.getFeedConfList", feed);
		return feedConfList;
	}
	
	
	// 피드, 스토리  수정
	public boolean updateFeed(FeedVO feed) {
		sqlMapper.update("kr.co.mini5.feed.dao.FeedDAO.updateFeed", feed);
		sqlMapper.commit();
		return true;
	}
	
	// 피드 삭제
	public boolean deleteFeed(int FeedNo) {
		sqlMapper.update("kr.co.mini5.feed.dao.FeedDAO.deleteFeed", FeedNo);
		sqlMapper.commit();
		return true;
	}
}
